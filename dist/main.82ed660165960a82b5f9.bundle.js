(()=>{"use strict";class e{#e;#t;#o;#i;#n;constructor(e,t,o=new Date,i,n=!1){this.#e=e,this.#t=t,this.#o=new Date(o).toISOString().replace("T"," ").substring(0,19),this.#i=i,this.#n=n}get title(){return this.#e}set title(e){this.#e=e}get description(){return this.#t}set description(e){this.#t=e}get dueDate(){return this.#o}set dueDate(e){this.#o=e}get priority(){return this.#i}set priority(e){this.#i=e}get isComplete(){return this.#n}set isComplete(e){this.#n=e}createToDoItemCard(){const e=document.createElement("div");e.classList.add("todoitem");const t=document.createElement("h3"),o=document.createElement("p"),i=document.createElement("span"),n=document.createElement("span"),c=document.createElement("input"),r=document.createElement("button"),s=document.createElement("button");return t.innerText=this.#e,o.innerText=this.#t,i.innerText=`Due Date: ${this.#o}`,n.innerText=`Priority: ${this.#i}`,c.type="checkbox",c.checked=this.#n,c.onchange=()=>this.isComplete=c.checked,r.classList.add("delete"),r.innerText="Delete",r.onclick=()=>this.deleteTodoItemCard(e),s.classList.add("edit"),s.innerText="Edit",s.onclick=()=>this.editTodoItem(t,o,i,n,s),e.append(c,t,o,i,n,s,r),e}editTodoItem(e,t,o,i,n){const c=document.createElement("input"),r=document.createElement("input"),s=document.createElement("input"),d=document.createElement("select"),a=document.createElement("button"),l=document.createElement("button");c.value=this.title,r.value=this.description,s.type="datetime-local",s.value=this.dueDate,d.innerHTML=`\n            <option value="Low" ${"Low"===this.priority?"selected":""}>Low</option>\n            <option value="Medium" ${"Medium"===this.priority?"selected":""}>Medium</option>\n            <option value="High" ${"High"===this.priority?"selected":""}>High</option>\n        `,a.innerText="Save",l.innerText="Cancel",e.replaceWith(c),t.replaceWith(r),o.replaceWith(s),i.replaceWith(d),n.replaceWith(a),a.after(l),a.onclick=()=>{this.title=c.value,this.description=r.value,this.dueDate=s.value,this.priority=d.value,c.replaceWith(e),r.replaceWith(t),s.replaceWith(o),d.replaceWith(i),e.innerText=this.title,t.innerText=this.description,o.innerText=`Due Date: ${this.dueDate}`,i.innerText=`Priority: ${this.priority}`,a.replaceWith(n),l.remove()},l.onclick=()=>{c.replaceWith(e),r.replaceWith(t),s.replaceWith(o),d.replaceWith(i),a.replaceWith(n),l.remove()}}deleteTodoItemCard(e){e?.remove()}}class t{#c;#t;#r;constructor(e,t){this.#c=e,this.#t=t,this.#r=[]}get name(){return this.#c}set name(e){this.#c=e}get description(){return this.#t}set description(e){this.#t=e}get todoItems(){return this.#r}set todoItems(e){this.#r=e}createProjectCard(){const e=document.createElement("div");e.classList.add("todoproject");const t=document.createElement("h2"),o=document.createElement("p"),i=document.createElement("button"),n=document.createElement("button"),c=document.createElement("div"),r=document.createElement("div");return t.innerText=this.#c,o.innerText=this.#t,i.innerText="Add",i.classList.add("add-todo"),c.classList.add("todo-list"),n.classList.add("delete"),n.innerText="Delete",r.classList.add("buttonDiv"),r.append(i,n),i.onclick=()=>this.showAddToDoPopup(c),n.onclick=()=>this.deleteTodoProjectCard(e),e.append(t,o,r),e}showAddToDoPopup(t){const o=document.createElement("div");o.classList.add("popup");const i=document.createElement("input"),n=document.createElement("input"),c=document.createElement("input"),r=document.createElement("select"),s=document.createElement("button"),d=document.createElement("button"),a=document.createElement("div");i.placeholder="Title",n.placeholder="Description",c.type="datetime-local",r.innerHTML='\n            <option value="Low">Low</option>\n            <option value="Medium">Medium</option>\n            <option value="High">High</option>\n        ',s.innerText="Save",d.innerText="Close",d.onclick=()=>o.remove(),s.onclick=()=>{if(i.value.trim()&&n.value.trim()){const s=new e(i.value,n.value,c.value||void 0,r.value);this.#r.push(s),t.appendChild(s.createToDoItemCard());const d=window.appInstance;d&&d.renderActiveProjectToDos(),o.remove()}else alert("Oops! Title or Description Fields are Incomplete")},a.classList.add("buttonDiv"),a.append(s,d),o.append(i,n,c,r,a),document.body.appendChild(o)}deleteTodoProjectCard(e){e?.remove();const t=window.appInstance;t&&(t.projects=t.projects.filter((e=>e!==this)),t.renderProjects())}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("project-container"),o=document.getElementById("add-project-btn"),i=document.getElementById("todo-container");const n=new class{#s;#d;constructor(){this.#s=[],this.#d=null,window.appInstance=this}get projects(){return this.#s}set projects(e){this.#s=e}setActiveProject(e){this.#d=e,this.renderActiveProjectToDos()}renderProjects(){e.innerHTML="",this.#s.forEach((t=>{const o=t.createProjectCard();o.addEventListener("click",(()=>{this.setActiveProject(t),document.querySelectorAll(".todoproject").forEach((e=>e.classList.remove("active-project"))),o.classList.add("active-project")})),e.appendChild(o)}))}renderActiveProjectToDos(){i.innerHTML="";const e=document.createElement("div");e.classList.add("todo-list"),this.#d.todoItems.forEach((t=>{e.appendChild(t.createToDoItemCard())})),i.appendChild(e)}showAddToDoPopup(){const e=document.createElement("div");e.classList.add("popup");const o=document.createElement("input"),i=document.createElement("input"),n=document.createElement("button"),c=document.createElement("button"),r=document.createElement("div");r.classList.add("buttonDiv"),o.placeholder="Title",i.placeholder="Description",n.innerText="Save",c.innerText="Close",c.onclick=()=>e.remove(),n.onclick=()=>{if(o.value.trim()&&i.value.trim()){const n=new t(o.value,i.value);this.#s.push(n),this.renderProjects(),e.remove()}else alert("Oops! Title or Description Fields are Incomplete")},r.append(n,c),e.append(o,i,r),document.body.appendChild(e)}};o.addEventListener("click",(()=>{n.showAddToDoPopup()})),n.renderProjects()}));const o=document.getElementById("dark-mode-toggle"),i=document.body;"enabled"===localStorage.getItem("dark-mode")?(i.classList.add("dark-mode"),o.textContent="‚òÄÔ∏è Light Mode",o.style.backgroundColor="#fff",o.style.color="#1e1e1e"):(o.style.backgroundColor="#1e1e1e",o.style.color="#fff"),o.addEventListener("click",(()=>{i.classList.toggle("dark-mode"),i.classList.contains("dark-mode")?(localStorage.setItem("dark-mode","enabled"),o.textContent="‚òÄÔ∏è Light Mode",o.style.backgroundColor="#fff",o.style.color="#1e1e1e"):(localStorage.setItem("dark-mode","disabled"),o.textContent="üåô Dark Mode",o.style.backgroundColor="#1e1e1e",o.style.color="#fff")}))})();